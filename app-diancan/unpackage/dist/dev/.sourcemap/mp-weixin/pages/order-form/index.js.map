{"version":3,"sources":["uni-app:///main.js","webpack:///E:/IdeaProjects/fwwbsyb/dashu-frame/app-diancan/pages/order-form/index.vue?7553","webpack:///E:/IdeaProjects/fwwbsyb/dashu-frame/app-diancan/pages/order-form/index.vue?2ac5","webpack:///E:/IdeaProjects/fwwbsyb/dashu-frame/app-diancan/pages/order-form/index.vue?c343","webpack:///E:/IdeaProjects/fwwbsyb/dashu-frame/app-diancan/pages/order-form/index.vue?81ec","uni-app:///pages/order-form/index.vue","webpack:///E:/IdeaProjects/fwwbsyb/dashu-frame/app-diancan/pages/order-form/index.vue?8810","webpack:///E:/IdeaProjects/fwwbsyb/dashu-frame/app-diancan/pages/order-form/index.vue?d8ca"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":"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A,2CADA;AAEA,iCAFA;AAGA;AACA;AACA;AACA,iEADA;AAEA,wDAFA;AAGA,wDAHA;AAIA,qDAJA;;AAMA,4BANA,CAMA;AACA;AACA,+BADA;AAEA;AACA,8BADA,CACA;AACA;AACA;AACA;AACA,2CADA,CADA;;AAIA,2BAPA;AAQA,yBAjBA,EAiBA,KAjBA,CAiBA;AACA;AACA,yBAnBA;AAoBA;AACA,qBA1BA;AA2BA;AACA;AACA;AACA,qBA9BA;;AAgCA,iBA3FA;;;AA8FA,KAnJA;AAoJA,WApJA,mBAoJA,UApJA,EAoJA;AACA;AACA,kBADA;;AAGA;AACA,wBADA;AAEA,oCAFA;AAGA,sBAHA;;AAKA,KA7JA;AA8JA,UA9JA,kBA8JA,GA9JA,EA8JA;AACA;AACA;AACA;AACA;AACA;AACA,KApKA;AAqKA;AACA,cAtKA,sBAsKA,KAtKA,EAsKA;AACA;AACA;AACA;AACA,KA1KA;AA2KA;AACA,cA5KA,sBA4KA,CA5KA,EA4KA;AACA;AACA;AACA,KA/KA;AAgLA;AACA;AACA,mBAlLA,2BAkLA,CAlLA,EAkLA;AACA;AACA;AACA;AACA;AACA,KAvLA;;AAyLA;AACA;AACA;AACA,gBA5LA,wBA4LA,QA5LA,EA4LA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAlPA,GA3EA,E;;;;;;;;;;;;;AC7DA;AAAA;AAAA;AAAA;AAAiuC,CAAgB,0pCAAG,EAAC,C;;;;;;;;;;;ACArvC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/order-form/index.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;import '@dcloudio/uni-stat/dist/uni-stat.es.js';\nimport Vue from 'vue'\nimport Page from './pages/order-form/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=0265f91f&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=0265f91f&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!F:\\\\0常用软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0265f91f\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/order-form/index.vue\"\nexport default component.exports","export * from \"-!F:\\\\0常用软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!F:\\\\0常用软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!F:\\\\0常用软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!F:\\\\0常用软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!F:\\\\0常用软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\0常用软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=template&id=0265f91f&scoped=true&\"","var components\ntry {\n  components = {\n    uSticky: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-sticky/u-sticky\" */ \"@/uview-ui/components/u-sticky/u-sticky.vue\"\n      )\n    },\n    uTabsSwiper: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-tabs-swiper/u-tabs-swiper\" */ \"@/uview-ui/components/u-tabs-swiper/u-tabs-swiper.vue\"\n      )\n    },\n    mescrollBody: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/mescroll-uni/components/mescroll-body/mescroll-body\" */ \"@/uni_modules/mescroll-uni/components/mescroll-body/mescroll-body.vue\"\n      )\n    },\n    uSkeleton: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-skeleton/u-skeleton\" */ \"@/uview-ui/components/u-skeleton/u-skeleton.vue\"\n      )\n    },\n    uModal: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-modal/u-modal\" */ \"@/uview-ui/components/u-modal/u-modal.vue\"\n      )\n    },\n    uLoadmore: function() {\n      return import(\n        /* webpackChunkName: \"uview-ui/components/u-loadmore/u-loadmore\" */ \"@/uview-ui/components/u-loadmore/u-loadmore.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!F:\\\\0常用软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\0常用软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!F:\\\\0常用软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\0常用软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\0常用软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!F:\\\\0常用软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!F:\\\\0常用软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!F:\\\\0常用软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!F:\\\\0常用软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\0常用软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n    <!-- 订单 -->\r\n    <view class=\"container u-skeleton\">\r\n        <u-sticky :enable='enable'>\r\n            <view class=\"tabs-box\">\r\n                <u-tabs-swiper ref=\"uTabs\" height=\"100\" :list=\"list\" :current=\"current\" @change=\"tabsChange\"\r\n                    :is-scroll=\"false\" font-size=\"32\" active-color=\"#FFFFFF\" inactive-color=\"rgba(255,255,255,0.65)\"\r\n                    bg-color=\"#FF7250\">\r\n                </u-tabs-swiper>\r\n            </view>\r\n        </u-sticky>\r\n\r\n        <mescroll-body ref=\"mescrollRef\" class=\"data-list-box\" @init=\"mescrollInit\" @up=\"upCallback\" :down=\"downOption\"\r\n            @down=\"downCallback\">\r\n            <!-- #ifdef MP-WEIXIN -->\r\n            <view class=\"camouflage-skeleton\" v-if=\"loading\">\r\n                <view class=\"items\" v-for=\"item in 3\" :key=\"item\">\r\n                    <view class=\"item u-skeleton-fillet\"></view>\r\n                    <view class=\"item-box\">\r\n                        <view class=\"image-box u-skeleton-fillet\"></view>\r\n                        <view class=\"item-boxs\">\r\n                            <view class=\"item u-skeleton-fillet\"></view>\r\n                            <view class=\"item u-skeleton-fillet\"></view>\r\n                        </view>\r\n                    </view>\r\n                </view>\r\n            </view>\r\n            <!-- #endif -->\r\n            <block v-if=\"orderList.length>0\">\r\n                <view class=\"box\" v-for=\"(item,index) in orderList\" :key=\"item.id\" @click=\"JumpPage('/pages/order-form/order-details', {\r\n\t\t\t\t\t\torderId: item.id\r\n\t\t\t\t\t})\">\r\n                    <order-detail v-if=\"item\" :orderInfo=\"item\" :payStatus=\"item.status\" @cancel=\"cancel\">\r\n                    </order-detail>\r\n                </view>\r\n            </block>\r\n            <block v-else>\r\n                <view class=\"not-data\" style=\"margin-top: 150rpx;\">\r\n                    <view class=\"img-box\">\r\n                        <image src=\"@/static/images/no-data.png\" mode=\"widthFix\"></image>\r\n                    </view>\r\n                    <text>暂无数据</text>\r\n                </view>\r\n            </block>\r\n\r\n        </mescroll-body>\r\n        <u-skeleton :loading=\"loading\" :animation=\"true\" bgColor=\"#FFF\"></u-skeleton>\r\n        <u-modal v-model=\"cancelVal\" :title=\"modelTitle\" :content=\"modelContent\" confirm-text=\"确认\" cancel-text=\"取消\"\r\n            show-cancel-button @confirm=\"confirm(cancelText)\"></u-modal>\r\n        <u-modal v-model=\"oauthShow\" title=\"用户授权\" content=\"用户未授权,是否去授权？\" confirm-text=\"去授权\" cancel-text=\"取消\"\r\n            show-cancel-button @confirm=\"goOauth\"></u-modal>\r\n        <u-loadmore :status=\"status\" />\r\n    </view>\r\n</template>\r\n\r\n<script>\r\n    import {\r\n        mapState\r\n    } from 'vuex'\r\n    import orderDetail from '@/components/order-detail/index.vue';\r\n    import MescrollMixin from \"@/uni_modules/mescroll-uni/components/mescroll-uni/mescroll-mixins.js\";\r\n    export default {\r\n        mixins: [MescrollMixin],\r\n        components: {\r\n            orderDetail,\r\n        },\r\n        data() {\r\n            return {\r\n                oauthShow: false,\r\n                cancelVal: false,\r\n                loading: true,\r\n                downOption: {\r\n                    auto: false,\r\n                },\r\n                list: [{\r\n                        name: '全部'\r\n                    },\r\n                    {\r\n                        name: '待付款'\r\n                    },\r\n                    {\r\n                        name: '待取餐'\r\n                    },\r\n                    {\r\n                        name: '退款中'\r\n                    },\r\n                    {\r\n                        name: '已完成',\r\n                    }\r\n                ],\r\n                current: 0, // tabs组件的current值，表示当前活动的tab选项\r\n                swiperCurrent: 0, // swiper组件的current值，表示当前那个swiper-item是活动的\r\n                enable: false,\r\n                modelTitle: '',\r\n                modelContent: '',\r\n                cancelText: '',\r\n                orderId: '',\r\n                status: 'loadmore',\r\n                page: {\r\n                    num: 1\r\n                },\r\n                total: 0,\r\n            }\r\n        },\r\n        onReachBottom() {\r\n            console.log(\"on reach bottom\");\r\n            if (this.orderList.length >= this.total) return;\r\n            this.status = 'loading';\r\n            this.page['num'] += 1;\r\n            this.getOrderList(this.page);\r\n        },\r\n        computed: {\r\n            ...mapState(['selectedShop', 'orderList'])\r\n        },\r\n        onLoad() {\r\n            // #ifdef MP-WEIXIN\r\n            if (!uni.getStorageSync('wxLoginCode')) {\r\n                console.log('下单页授权')\r\n                let info = this.$oauth(e)\r\n                if (info.loginCode) {\r\n                    uni.setStorageSync('wxLoginCode', info.loginCode)\r\n                }\r\n            }\r\n            // #endif\r\n        },\r\n        onShow() {\r\n            this.enable = true;\r\n            this.page['num'] = 1\r\n            this.getOrderList(this.page);\r\n        },\r\n        onHide() {\r\n            this.enable = false;\r\n        },\r\n        onReady() {\r\n            // this.isOAuth();\r\n        },\r\n        methods: {\r\n            getOrderList(page) {\r\n                console.log(page, \"getOrderList\");\r\n                let _that = this\r\n                let oldList = [..._that.orderList]\r\n                let newList = []\r\n                let judge = typeof this.$store.state.oauthInfo === 'string' ?\r\n                    this.$store.state.oauthInfo.indexOf('loginCode') :\r\n                    this.$store.state.oauthInfo.hasOwnProperty('loginCode')\r\n                let status = _that.swiperCurrent == 0 ? 99 : _that.swiperCurrent == 1 ? 0 : _that.swiperCurrent == 2 ?\r\n                    1 : _that.swiperCurrent == 3 ? -1 : 55\r\n                _that.$http('/api/order/order_list', 'POST', {\r\n                    shop_id: _that.$store.state.shopId,\r\n                    status: status,\r\n                    pageSize: 10,\r\n                    page: page.num\r\n                }).then(data => {\r\n                    console.log(data);\r\n                    if (page.num == 1) {\r\n                        oldList = []\r\n                    }\r\n                    newList = oldList.concat(data.data.data.data)\r\n                    if (newList.length >= data.data.data.total) {\r\n                        _that.status = 'nomore';\r\n                    }\r\n                    if (judge == 0 || judge) {\r\n                        _that.$store.commit('SET_ORDER_LIST', newList)\r\n                    } else {\r\n                        _that.$store.commit('SET_ORDER_LIST', [])\r\n                    }\r\n                    this.total = data.data.data.total;\r\n                    _that.mescroll.endBySize(10, data.data.data.total);\r\n                    setTimeout(() => {\r\n                        this.$nextTick(function() {\r\n                            this.loading = false;\r\n                        })\r\n                    }, 1000)\r\n                }).catch((err) => {\r\n                    console.log(err, \"errorziro\");\r\n                    setTimeout(() => {\r\n                        this.$nextTick(function() {\r\n                            this.loading = false;\r\n                        })\r\n                    }, 1000)\r\n                })\r\n\r\n\r\n            },\r\n            isOAuth() {\r\n                if (!this.$store.state.oauthInfo?.loginCode) {\r\n                    this.oauthShow = !this.oauthShow\r\n                }\r\n            },\r\n            async goOauth(e) {\r\n                this.oauthShow = false\r\n                let _that = this;\r\n                // #ifdef MP-ALIPAY\r\n                let info = await this.$oauth();\r\n                if (info.loginCode) {\r\n                    _that.$http('/api/ali_user/ali_user', 'POST', {\r\n                            code: info.loginCode\r\n                        })\r\n                        .then(data => {\r\n                            _that.$store.commit('SET_TOKEN', data.data.data.userinfo.token);\r\n                            _that.$http('/api/user/userInfo', 'POST')\r\n                                .then(res => {\r\n                                    _that.$message(data.data.msg)\r\n                                    _that.$store.commit('SET_OAUTH_INFO', info);\r\n                                })\r\n                        }).catch((err) => {\r\n                            console.log(JSON.stringify(err))\r\n                        })\r\n                }\r\n                // #endif\r\n                // #ifdef MP-WEIXIN\r\n\r\n                if (uni.getUserProfile) {\r\n                    uni.getUserProfile({\r\n                        desc: '获取你的昵称、头像、地区及性别',\r\n                        lang: 'zh_CN',\r\n                        success: (res) => {\r\n                            if (res.userInfo) {\r\n                                _that.$http('/api/wx_login/wxlogin', 'POST', {\r\n                                        code: uni.getStorageSync('wxLoginCode'),\r\n                                        wx_name: res.userInfo.nickName,\r\n                                        avatar: res.userInfo.avatarUrl,\r\n                                        gender: res.userInfo.gender\r\n                                    })\r\n                                    .then(data => {\r\n                                        _that.$store.commit('SET_TOKEN', data.data.data.userinfo\r\n                                            .token);\r\n                                        _that.$http('/api/user/userInfo', 'POST')\r\n                                            .then(res => {\r\n                                                _that.$message(data.data.msg)\r\n                                                _that.$store.commit('SET_OAUTH_INFO', {\r\n                                                    loginCode: uni.getStorageSync(\r\n                                                        'wxLoginCode')\r\n                                                });\r\n                                            })\r\n\r\n                                    }).catch((err) => {\r\n                                        console.log(JSON.stringify(err))\r\n                                    })\r\n                            }\r\n                        },\r\n                        fail: (err) => {\r\n                            console.log(err)\r\n                            this.$message('用户取消授权')\r\n                        }\r\n                    })\r\n                } else {\r\n                    console.log('wx')\r\n                    wx.getUserProfile({\r\n                        desc: '获取你的昵称、头像、地区及性别',\r\n                        lang: 'zh_CN',\r\n                        success: (res) => {\r\n                            if (res.userInfo) {\r\n                                _that.$http('/api/wx_login/wxlogin', 'POST', {\r\n                                        code: uni.getStorageSync('wxLoginCode'),\r\n                                        wx_name: res.userInfo.nickName,\r\n                                        avatar: res.userInfo.avatarUrl,\r\n                                        gender: res.userInfo.gender\r\n                                    })\r\n                                    .then(data => {\r\n                                        _that.$store.commit('SET_TOKEN', data.data.data.userinfo\r\n                                            .token);\r\n                                        _that.$http('/api/user/userInfo', 'POST')\r\n                                            .then(res => {\r\n                                                _that.$message(data.data.msg)\r\n                                                _that.$store.commit('SET_OAUTH_INFO', {\r\n                                                    loginCode: uni.getStorageSync(\r\n                                                        'wxLoginCode')\r\n                                                });\r\n                                            })\r\n                                    }).catch((err) => {\r\n                                        console.log(JSON.stringify(err))\r\n                                    })\r\n                            }\r\n                        },\r\n                        fail: (err) => {\r\n                            console.log(err)\r\n                            this.$message('用户取消授权')\r\n                        }\r\n                    })\r\n                }\r\n\r\n                // #endif\r\n            },\r\n            confirm(cancelText) {\r\n                let apiAddr = '',\r\n                    _that = this;\r\n\r\n                uni.showToast({\r\n                    title: '社区版暂不支持',\r\n                    content: '需要支付功能，请联系作者购买商业版',\r\n                    duration: 5000\r\n                });\r\n            },\r\n            cancel(obj) {\r\n                this.cancelVal = !this.cancelVal;\r\n                this.modelTitle = obj.cancelText;\r\n                this.modelContent = '是否' + obj.cancelText + '？';\r\n                this.cancelText = obj.cancelText\r\n                this.orderId = obj.orderId\r\n            },\r\n            // tabs通知swiper切换\r\n            tabsChange(index) {\r\n                this.swiperCurrent = index;\r\n                this.current = index;\r\n                this.getOrderList(this.page);\r\n            },\r\n            // swiper-item左右移动，通知tabs的滑块跟随移动\r\n            transition(e) {\r\n                let dx = e.detail.dx;\r\n                this.$refs.uTabs.setDx(dx);\r\n            },\r\n            // 由于swiper的内部机制问题，快速切换swiper不会触发dx的连续变化，需要在结束时重置状态\r\n            // swiper滑动结束，分别设置tabs和swiper的状态\r\n            animationfinish(e) {\r\n                let current = e.detail.current;\r\n                this.$refs.uTabs.setFinishCurrent(current);\r\n                this.swiperCurrent = current;\r\n                this.current = current;\r\n            },\r\n\r\n            // mescrollInit(mescroll) {\r\n            // \tthis.mescroll = mescroll;\r\n            // },\r\n            downCallback(mescroll) {\r\n\r\n                this.page['num'] = 1\r\n                this.getOrderList(this.page);\r\n                // this.$nextTick(function() {\r\n                // \tthis.mescroll.resetUpScroll();\r\n                // })\r\n            },\r\n            // // TODO\r\n            // upCallback(page) {\r\n            // \t// console.log(page.num,this.orderList)\r\n            // \tlet _that = this,\r\n            // \t\toldList = [..._that.orderList],\r\n            // \t\tnewList = [],\r\n            // \t\tjudge = typeof this.$store.state.oauthInfo === 'string' ? this.$store.state.oauthInfo.indexOf(\r\n            // \t\t\t'loginCode') : this.$store.state.oauthInfo.hasOwnProperty('loginCode'),\r\n            // \t\tstatus = _that.swiperCurrent == 0 ? 99 : _that.swiperCurrent == 1 ? 0 : _that.swiperCurrent == 2 ?\r\n            // \t\t1 : _that.swiperCurrent == 3 ? -1 : 55;\r\n            // \t_that.$http('/api/order/order_list', 'POST', {\r\n            // \t\tshop_id: _that.$store.state.shopId,\r\n            // \t\tstatus: status,\r\n            // \t\tpageSize: 4,\r\n            // \t\tpage: page.num\r\n            // \t}).then(data => {\r\n            // \t\tif (data.data.code == 1) {\r\n            // \t\t\tif (page.num == 1) {\r\n            // \t\t\t\toldList = []\r\n            // \t\t\t}\r\n            // \t\t\tnewList = oldList.concat(data.data.data.data)\r\n            // \t\t\tif (judge == 0 || judge) {\r\n            // \t\t\t\t_that.$store.commit('SET_ORDER_LIST', newList)\r\n            // \t\t\t} else {\r\n            // \t\t\t\t_that.$store.commit('SET_ORDER_LIST', [])\r\n            // \t\t\t}\r\n            // \t\t\t_that.mescroll.endBySize(4, data.data.data.total);\r\n            // \t\t\tsetTimeout(() => {\r\n            // \t\t\t\tthis.$nextTick(function() {\r\n            // \t\t\t\t\tthis.loading = false;\r\n            // \t\t\t\t})\r\n            // \t\t\t}, 1000)\r\n            // \t\t} else {\r\n            // \t\t\tsetTimeout(() => {\r\n            // \t\t\t\tthis.$nextTick(function() {\r\n            // \t\t\t\t\tthis.loading = false;\r\n            // \t\t\t\t})\r\n            // \t\t\t}, 1000)\r\n            // \t\t}\r\n            // \t}).catch(() => {\r\n            // \t\tsetTimeout(() => {\r\n            // \t\t\tthis.$nextTick(function() {\r\n            // \t\t\t\tthis.loading = false;\r\n            // \t\t\t})\r\n            // \t\t}, 1000)\r\n            // \t})\r\n            // },\r\n\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    .con-box {\r\n        background-color: #F8F8F8;\r\n        height: calc(100vh - 44px - 100rpx);\r\n    }\r\n\r\n    .tabs-box {\r\n        width: 100%;\r\n    }\r\n\r\n    .data-list-box {\r\n        height: auto;\r\n        overflow: auto;\r\n    }\r\n\r\n    /* #ifdef MP-WEIXIN */\r\n    // 微信小程序不支持组件添加骨架屏 弄个假的兼容\r\n    .camouflage-skeleton {\r\n        width: 100%;\r\n        padding: 0 24rpx;\r\n        box-sizing: border-box;\r\n\r\n        .items {\r\n\r\n            width: 100%;\r\n            display: flex;\r\n            flex-direction: column;\r\n            align-items: center;\r\n            margin-left: 20rpx;\r\n            padding: 0 24rpx;\r\n            box-sizing: border-box;\r\n\r\n            .item-box {\r\n                display: flex;\r\n                align-items: center;\r\n                justify-content: space-between;\r\n                margin-top: 40rpx;\r\n\r\n                .image-box {\r\n                    width: 180rpx;\r\n                    height: 180rpx;\r\n                    margin-right: 40rpx;\r\n                    flex-shrink: 0;\r\n                }\r\n\r\n                .item-boxs {\r\n                    width: 100%;\r\n                    flex-shrink: 0;\r\n\r\n                    .item {\r\n                        width: 380rpx;\r\n                    }\r\n                }\r\n            }\r\n\r\n            .item {\r\n                width: 100%;\r\n                height: 50rpx;\r\n                font-size: 28upx;\r\n                font-weight: bold;\r\n                margin-top: 30rpx;\r\n            }\r\n        }\r\n    }\r\n\r\n    /* #endif */\r\n</style>\n","import mod from \"-!F:\\\\0常用软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!F:\\\\0常用软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!F:\\\\0常用软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!F:\\\\0常用软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!F:\\\\0常用软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!F:\\\\0常用软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!F:\\\\0常用软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!F:\\\\0常用软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\0常用软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&id=0265f91f&lang=scss&scoped=true&\"; export default mod; export * from \"-!F:\\\\0常用软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!F:\\\\0常用软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!F:\\\\0常用软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!F:\\\\0常用软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!F:\\\\0常用软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!F:\\\\0常用软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!F:\\\\0常用软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!F:\\\\0常用软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!F:\\\\0常用软件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&id=0265f91f&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1657418080569\n      var cssReload = require(\"F:/0常用软件/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}